# Resources

| Resource | Symbol | Description | State Variable (`store.ts`) |
|---|---|---|---|
| Power | ‚ö° | Energy required for most buildings and projects. Shortages impact production and research. | `power` |
| Water | üíß | Essential for population survival and some projects. Shortages impact production, research and population growth. | `water` |
| Minerals | ‚õèÔ∏è | Raw materials used for construction and production projects. | `minerals` |
| Colony Goods | üì¶ | Processed goods used for advanced projects, population needs, and some issue resolutions. | `colonyGoods` |
| Research Points | üî¨ | Used to unlock new technologies and projects via the Research Dome. | `researchPoints` |
| Population | üßë‚Äçü§ù‚Äçüßë | Number of colonists. Determines workforce and base water consumption. Grows slowly under good conditions. | `population` |
| Workforce | üë∑ | The portion of the population available for tasks (`totalWorkforce = population * 0.8`). Divided into `availableWorkforce` and assigned workforce. | `totalWorkforce`, `availableWorkforce` |
| Flow | üåÄ | Generated by maintaining positive resource trends over multiple consecutive rounds. Used for embodiment insights and special projects. | `flowPoints`, `activeFlowTier` |

## Resource Generation and Consumption

### Generation

*   **Base Production:**
    *   Power: +5 per round (Implicit base generation).
    *   Colony Goods: +3 every 5 rounds (Production Dome cycle).
    *   Research Points: +1 every 4 rounds (Research Dome cycle).
    *   *Development Note:* Dome cycle logic is in `generateDomeResources` in `src/store/store.ts`. Base power is added directly in `endRound`.
*   **Building-Specific Generation (Operational Status):**
    *   *Development Note:* Yields defined in `resourceYield` within `src/config/tasks.ts`. Applied during `endRound` in `src/store/store.ts`. Bonuses from research/projects are applied here.

    | Building Type | Resource Generated | Base Amount | Location Bonus | Rate | Affected By Projects |
    |---|---|---|---|---|---|
    | Mining Operation | Minerals | 5 | +50% per mountain height level | Every round | `improved-extraction` (+25%) |
    | Solar Array | Power | 15 | None | Every round | - |
    | Geothermal Plant | Power | 30 | None | Every round | `seismic-mapping` (+30%) |
    | Water Well | Water | 12 | None | Every round | `water-reclamation-1` (+20%), `thermal-extractors` (+10% yield, -25% power cost) |
    | Scout Outpost | Research Points | 4 | None | Every round | `embodiment-prelim` (+15%) |
*   **Flow Generation:**
    *   Basic Flow Tier: +1 Flow Point per round when at least 2 resources maintain positive trends for 5+ consecutive rounds.
    *   Strong Flow Tier: +2 Flow Points per round when at least 4 resources maintain positive trends for 10+ consecutive rounds.
    *   Master Flow Tier: +4 Flow Points per round when all 5 resources maintain positive trends for 20+ consecutive rounds.
    *   *Development Note:* Flow tier evaluation happens in `updateFlowTier` in `src/store/store.ts` during the end of each round.

### Consumption

*   **Population:**
    *   Water: 1 per colonist per round.
    *   *Development Note:* Calculated in `endRound`. Reduced by `detoxifying-bacteria` research (-15%).
*   **Building Operations (Operational Status):**
    *   Power is consumed by most operational buildings.
    *   Mining Operations require +1 additional power per mountain height level.
    *   *Development Note:* Defined by `powerConsumption` in `src/config/tasks.ts`. Applied during `endRound`. Reduced by `thermal-extractors` for Water Wells (-25%).
*   **Task Deployment:** Starting a new task/building construction requires an initial resource cost.
    *   *Development Note:* Defined by `cost` in `src/config/tasks.ts`. Deducted by `assignWorkforceToTask` calling `deductResources` in `src/store/store.ts`.
*   **Project Initiation:** Starting Research, Living, or Production projects requires resource costs.
    *   *Development Note:* Defined in `cost` within `src/config/research.ts`, `src/config/livingAreaProjects.ts`, `src/config/productionProjects.ts`. Deducted by `startResearch`, `startLivingProject`, `startProductionProject` calling `deductResources` in `src/store/store.ts`.

### Penalties

*   **Low Power (`power < 0`):** Prevents generation of Minerals and Research Points from buildings. Triggers a warning dialogue.
    *   *Development Note:* Checked in `endRound`. Flag: `isLowPowerPenaltyActive`.
*   **Low Water (`water < 0`):** Prevents generation of Minerals and Research Points from buildings. Halts population growth cycle. Triggers a warning dialogue.
    *   *Development Note:* Checked in `endRound` and `checkPopulationGrowth`. Flag: `isLowWaterPenaltyActive`.
